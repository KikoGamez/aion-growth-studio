---
import { useTranslations } from '../i18n/utils';
import type { Lang } from '../i18n/utils';

interface Props {
  lang: Lang;
}

const { lang } = Astro.props;
const t = useTranslations(lang);

const solutions = [
  {
    icon: 'diagnostico',
    titleKey: 'solutions.diagnostic.title' as const,
    descKey: 'solutions.diagnostic.desc' as const,
  },
  {
    icon: 'platform',
    titleKey: 'solutions.platform.title' as const,
    descKey: 'solutions.platform.desc' as const,
  },
  {
    icon: 'estrategia',
    titleKey: 'solutions.strategy.title' as const,
    descKey: 'solutions.strategy.desc' as const,
  },
  {
    icon: 'automation',
    titleKey: 'solutions.automation.title' as const,
    descKey: 'solutions.automation.desc' as const,
  },
  {
    icon: 'formacion',
    titleKey: 'solutions.training.title' as const,
    descKey: 'solutions.training.desc' as const,
  },
  {
    icon: 'labs',
    titleKey: 'solutions.labs.title' as const,
    descKey: 'solutions.labs.desc' as const,
  },
];

const icons: Record<string, string> = {
  diagnostico: `
    <rect x="3" y="10" width="4" height="10" rx="1.2"></rect>
    <rect x="10" y="6" width="4" height="14" rx="1.2"></rect>
    <rect x="17" y="12" width="4" height="8" rx="1.2"></rect>
    <circle cx="18" cy="6" r="4"></circle>
    <path d="M21 9l3 3"></path>
  `,
  platform: `
    <rect x="3" y="4" width="18" height="6" rx="2"></rect>
    <rect x="3" y="14" width="8" height="6" rx="2"></rect>
    <rect x="13" y="14" width="8" height="6" rx="2"></rect>
    <path d="M7 10v4M17 10v4"></path>
  `,
  estrategia: `
    <path d="M3 17l6-6 4 4 7-7"></path>
    <path d="M14 8h6v6"></path>
    <path d="M3 21h18"></path>
  `,
  automation: `
    <circle cx="12" cy="12" r="3.5"></circle>
    <path d="M12 3v2M12 19v2M4.2 6.2l1.4 1.4M18.4 16.4l1.4 1.4M3 12h2M19 12h2M6.2 19.8l1.4-1.4M16.4 7.6l1.4-1.4"></path>
  `,
  formacion: `
    <path d="M9 18h6"></path>
    <path d="M10 21h4"></path>
    <path d="M12 3a6 6 0 00-3.5 10.9L9 16h6l.5-2.1A6 6 0 0012 3z"></path>
  `,
  labs: `
    <path d="M10 3v5l-5 9a3 3 0 002.6 4.5h9a3 3 0 002.6-4.5l-5-9V3"></path>
    <path d="M8 8h8"></path>
  `,
};
---

<section id="soluciones" class="py-20 md:py-28 bg-gray-50">
  <div class="max-w-7xl mx-auto px-6">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-4xl lg:text-[42px] font-display font-bold text-slate-900">
        {t('solutions.title')} <span class="text-transparent bg-clip-text bg-gradient-to-r from-aion-blue to-aion-cyan">{t('solutions.title.highlight')}</span>
      </h2>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      {solutions.map((solution) => (
        <div class="group bg-white rounded-xl p-8 border border-gray-100 shadow-sm hover:shadow-xl hover:-translate-y-2 transition-all duration-300">
          <div class="w-16 h-16 rounded-2xl bg-gradient-to-br from-aion-blue/10 to-aion-cyan/10 flex items-center justify-center mb-6 group-hover:from-aion-blue/20 group-hover:to-aion-cyan/20 transition-colors duration-300">
            <svg viewBox="0 0 24 24" aria-hidden="true" class="w-7 h-7 stroke-aion-blue fill-none" style="stroke-width: 1.7; stroke-linecap: round; stroke-linejoin: round;" set:html={icons[solution.icon]} />
          </div>
          <h3 class="text-xl font-display font-semibold text-slate-900 mb-3">
            {t(solution.titleKey)}
          </h3>
          <p class="text-gray-600 leading-relaxed">
            {t(solution.descKey)}
          </p>
        </div>
      ))}
    </div>
  </div>
</section>
