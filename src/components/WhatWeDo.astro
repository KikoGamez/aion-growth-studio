---
import { useTranslations } from '../i18n/utils';
import type { Lang } from '../i18n/utils';

interface Props {
  lang: Lang;
}

const { lang } = Astro.props;
const t = useTranslations(lang);

const cards = lang === 'es' ? [
  {
    title: 'Agentes de IA que ejecutan',
    desc: 'No chatbots que esperan instrucciones. Agentes autónomos que razonan, planifican y ejecutan prospección, marketing y operaciones de principio a fin.',
    icon: 'agent',
  },
  {
    title: 'Plataforma de Growth Intelligence',
    desc: 'Centraliza tus datos en RAGs, detecta oportunidades y recibe recomendaciones automáticas en tiempo real.',
    icon: 'data',
  },
  {
    title: 'Automatización Operativa',
    desc: 'Reingeniería de procesos usando IA como capa de infraestructura, no como decoración. Implementamos arquitecturas RAG, knowledge management y workflows autónomos que realmente escalan. Transparencia total: siempre entenderás QUÉ hace la IA y CÓMO lo hace.',
    icon: 'automation',
  },
  {
    title: 'Optimización de conversión e-commerce',
    desc: 'Mantén un modelo de agentes que hacen CRO y optimizan de manera automatizada cada paso de tu funnel. Con objetividad y comparando con mejores prácticas del mercado.',
    icon: 'ecommerce',
  },
  {
    title: 'Generación de demanda automatizada',
    desc: 'Aprovecha todas las oportunidades y optimiza tu inversión con agentes inteligentes que automatizan tu generación de demanda de manera eficiente.',
    icon: 'demand',
  },
  {
    title: 'Resultados por encima de la tecnología',
    desc: 'No buscamos impresionar con sistemas de IA muy fancy. Nos obsesiona crear sistemas que mejoren realmente tus ventas online, la calidad de los leads, el volumen de tráfico y las conversiones.',
    icon: 'results',
  },
] : [
  {
    title: 'AI Agents that execute',
    desc: 'Not chatbots waiting for instructions. Autonomous agents that reason, plan and execute prospecting, marketing and operations end-to-end.',
    icon: 'agent',
  },
  {
    title: 'Growth Intelligence Platform',
    desc: 'Centralize your data in RAGs, detect opportunities and receive automatic real-time recommendations.',
    icon: 'data',
  },
  {
    title: 'Operational Automation',
    desc: 'Process reengineering using AI as infrastructure layer, not decoration. We implement RAG architectures, knowledge management and autonomous workflows that truly scale. Full transparency: you\'ll always understand WHAT the AI does and HOW.',
    icon: 'automation',
  },
  {
    title: 'E-commerce conversion optimization',
    desc: 'Maintain agent models that do CRO and automatically optimize every step of your funnel. With objectivity and benchmarking against market best practices.',
    icon: 'ecommerce',
  },
  {
    title: 'Automated demand generation',
    desc: 'Seize every opportunity and optimize your investment with intelligent agents that automate your demand generation efficiently.',
    icon: 'demand',
  },
  {
    title: 'Results above technology',
    desc: 'We don\'t seek to impress with fancy AI systems. We\'re obsessed with building systems that truly improve your online sales, lead quality, traffic volume and conversions.',
    icon: 'results',
  },
];
---

<section class="py-24 md:py-32 bg-slate-50">
  <div class="max-w-7xl mx-auto px-6 md:px-8">

    <p class="text-sm font-medium text-slate-500 mb-8 md:mb-12 tracking-wide fade-in flex items-center gap-2">
      <img src="/logo-aion-dark.png" alt="" class="h-5 w-auto opacity-40" />
      {t('whatwedo.label')}
    </p>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">

      {cards.map((card) => (
        <div class="fade-in group relative bg-white rounded-2xl p-8 md:p-10 shadow-sm border border-slate-100 hover:shadow-md hover:-translate-y-1 transition-all duration-300 overflow-hidden">

          <!-- Subtle background motif -->
          {card.icon === 'agent' && (
            <div class="absolute top-4 right-4 opacity-[0.04] pointer-events-none">
              <svg class="w-24 h-24 text-aion-dark" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 2a2 2 0 012 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 017 7h1a1 1 0 011 1v3a1 1 0 01-1 1h-1.07A7.001 7.001 0 015.07 19H4a1 1 0 01-1-1v-3a1 1 0 011-1h1a7 7 0 017-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 012-2zm-4 12a1 1 0 100 2 1 1 0 000-2zm8 0a1 1 0 100 2 1 1 0 000-2z" />
              </svg>
            </div>
          )}
          {card.icon === 'data' && (
            <div class="absolute top-4 right-4 opacity-[0.04] pointer-events-none">
              <svg class="w-24 h-24 text-aion-dark" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1">
                <path d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z" />
              </svg>
            </div>
          )}
          {card.icon === 'automation' && (
            <div class="absolute top-4 right-4 opacity-[0.04] pointer-events-none">
              <svg class="w-24 h-24 text-aion-dark" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1">
                <path stroke-linecap="round" stroke-linejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.066 2.573c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.573 1.066c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.066-2.573c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
              </svg>
            </div>
          )}
          {card.icon === 'ecommerce' && (
            <div class="absolute top-4 right-4 opacity-[0.04] pointer-events-none">
              <svg class="w-24 h-24 text-aion-dark" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1">
                <path stroke-linecap="round" stroke-linejoin="round" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 100 4 2 2 0 000-4z" />
              </svg>
            </div>
          )}
          {card.icon === 'demand' && (
            <div class="absolute top-4 right-4 opacity-[0.04] pointer-events-none">
              <svg class="w-24 h-24 text-aion-dark" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1">
                <path stroke-linecap="round" stroke-linejoin="round" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" />
              </svg>
            </div>
          )}
          {card.icon === 'results' && (
            <div class="absolute top-4 right-4 opacity-[0.04] pointer-events-none">
              <svg class="w-24 h-24 text-aion-dark" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
              </svg>
            </div>
          )}

          <!-- Small accent icon -->
          <div class="w-10 h-10 rounded-xl bg-slate-50 border border-slate-200 flex items-center justify-center mb-5 group-hover:bg-aion-dark group-hover:border-aion-dark transition-colors duration-300">
            {card.icon === 'agent' && (
              <svg class="w-5 h-5 text-aion-primary group-hover:text-white transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.455 2.456L21.75 6l-1.036.259a3.375 3.375 0 00-2.455 2.456z" />
              </svg>
            )}
            {card.icon === 'data' && (
              <svg class="w-5 h-5 text-aion-primary group-hover:text-white transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 3v11.25A2.25 2.25 0 006 16.5h2.25M3.75 3h-1.5m1.5 0h16.5m0 0h1.5m-1.5 0v11.25A2.25 2.25 0 0118 16.5h-2.25m-7.5 0h7.5m-7.5 0l-1 3m8.5-3l1 3m0 0l.5 1.5m-.5-1.5h-9.5m0 0l-.5 1.5m.75-9l3-3 2.148 2.148A12.061 12.061 0 0116.5 7.605" />
              </svg>
            )}
            {card.icon === 'automation' && (
              <svg class="w-5 h-5 text-aion-primary group-hover:text-white transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077l1.41-.513m14.095-5.13l1.41-.513M5.106 17.785l1.15-.964m11.49-9.642l1.149-.964M7.501 19.795l.75-1.3m7.5-12.99l.75-1.3m-6.063 16.658l.26-1.477m2.605-14.772l.26-1.477m0 17.726l-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205L12 12m6.894 5.785l-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864l-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495" />
              </svg>
            )}
            {card.icon === 'ecommerce' && (
              <svg class="w-5 h-5 text-aion-primary group-hover:text-white transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4" />
              </svg>
            )}
            {card.icon === 'demand' && (
              <svg class="w-5 h-5 text-aion-primary group-hover:text-white transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z" />
              </svg>
            )}
            {card.icon === 'results' && (
              <svg class="w-5 h-5 text-aion-primary group-hover:text-white transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 18.75h-9m9 0a3 3 0 013 3h-15a3 3 0 013-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 01-.982-3.172M9.497 14.25a7.454 7.454 0 00.981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 007.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M18.75 4.236c.982.143 1.954.317 2.916.52A6.003 6.003 0 0016.27 9.728M18.75 4.236V4.5c0 2.108-.966 3.99-2.48 5.228m4.98-1.5a6.003 6.003 0 00-5.395-4.972m0 0a6.726 6.726 0 01-2.749 1.35m0 0a6.772 6.772 0 01-2.927 0 6.726 6.726 0 01-2.749-1.35m0 0A6.003 6.003 0 002.34 8.228" />
              </svg>
            )}
          </div>

          <h3 class="text-lg md:text-xl font-bold text-slate-900 mb-3 leading-snug">
            {card.title}
          </h3>

          <p class="text-slate-500 text-sm leading-relaxed">
            {card.desc}
          </p>
        </div>
      ))}

    </div>
  </div>
</section>
